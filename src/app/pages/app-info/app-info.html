<!--
  Generated template for the AppInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{item.trackName}}</ion-title>
  </ion-navbar>
  <div class="progress">
    <div class="bar" [ngStyle]="{width: 100 * ( progress.countriesResult / progress.countriesTotal) + '%'}"></div>
  </div>
</ion-header>


<ion-content padding>
  <ion-list>
    <div class="total">
      <div class="reviews">Reviews: {{allReviews.length}}{{allReviews.length === 200 ? '+' : ''}}</div>
      <div class="countries">Countries: {{loadedCountriesCount}}</div>
    </div>
    <div *ngFor="let review of items" class="review">
      <div class="header">
        <div class="rating">{{review.rating}}</div>
        <div class="title">{{review.title}}</div>
        <div class="version">v{{review.version}}</div>
      </div>
      <div class="content">{{review.content}}</div>
      <div class="header">
        <div class="author">
          <img src="assets/countries/{{review.countryCode}}.png" alt="">
          {{review.author}} 
          <span class="country">({{review.country}})</span>
        </div>
        <div class="date">{{review.updated}}</div>
      </div>
    </div>
  </ion-list>

  <ion-infinite-scroll [threshold]="'50%'" (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
